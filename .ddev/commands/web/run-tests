#!/bin/bash
## Description: Run tests in the web container for the coding challenge
## Usage: run-tests
## Example: "ddev run-tests"
RED='\033[0;31m'
GREEN='\033[0;32m'
COLOR_OFF='\033[0m'

clear

echo -e "${RED}               (#########.            ################             ##########,
             (#############*          *##############,           ##############,
            ,################           ############           /################
            .##################           ########            ##################
             *##################(          .####            ###################
               (##################,                       ###################.
                 ###################                    /##################/
                  .##################(                .###################
                    /#################/              ###################
                      ################/            ###################,
                        #############(           *##################(
                         .##########            ###################
                           /######,           ##################,          .@(%@
                             /##,           (#############(. ${COLOR_OFF}




            ,@&      @@    .@@@@@*     ,@&     @@,  @@     &@#    .@&  .@@@@@@@@
             &@@*  @@@   @@@*   ,@@@   #@@     @@(  @@@   &@@@/   @@*  @@@
               @@@@@.   %@@       @@@  #@@     @@(   @@@ (@@ @@. @@(   @@@@@@@@,
                %@@     ,@@%     (@@.  (@@     @@/    @@&@@  .@@@@%    @@@
                (@@       %@@@@@@@%     *@@@@@@@,      @@@    /@@@     @@@@@@@@@."

echo "Running tests..."

php bin/phpunit

status=$?
[ $status -eq 0 ] && echo -e "${GREEN}All tests have passed!${COLOR_OFF}\nYou're good to go! ü§ù" || echo -e "${RED}Some tests are failing üíî${COLOR_OFF}\nPlease, check them out."
